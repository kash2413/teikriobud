!function(t){var e;t.ajaxSetup({beforeSend:function(e,i){null===i.url.match(/weranda\.pl/i)&&null===i.url.match(/weranda\.devsafi\.pl/i)||e.setRequestHeader("X-CSRF-TOKEN",t('meta[name="csrf-token"]').attr("content"))}}),navigator.userAgent.indexOf("Version/10.1.2 Safari/603.3.8")>-1&&t(document.body).addClass("is-bad-safari"),(e=t(".header-cta")).find(".close").on("click",function(t){t.preventDefault(),e.addClass("is-inactive")});var i=t(".mobile-menu"),n=t(".open-menu"),o=t(".close-menu"),a=t(".menu-list"),s=a.find(".has-sub-menu"),r=window.matchMedia("screen and (max-width: 1200px)");i.on("click",function(t){t.preventDefault()}),n.on("click",function(t){t.preventDefault(),n.toggleClass("active"),a.toggleClass("show"),o.toggleClass("active")}),o.on("click",function(t){t.preventDefault(),o.toggleClass("active"),a.toggleClass("show"),n.toggleClass("active")}),s.append("<span class='arrow'></span>"),r.matches&&setTimeout(()=>{menuSubmenuToggle=s.find(".arrow"),menuSubmenuToggle.each(function(e,i){t(i).on("click",e=>{e.stopPropagation(),t(i).parent().toggleClass("is-active")})})},0);var c=t(window).scrollTop(),l=0,d=t(".menu-header"),u=0;t(window).on("scroll",function(){var e=t(window).scrollTop(),i=e-c,n=t(window).width()>720?160:90;t("body > .header-cta").length>0&&(u=t("body > .header-cta").outerHeight(),t("body > .header-cta").hasClass("is-inactive")&&(u=0)),t("body > .top-banner").length>0&&(u=t("body > .top-banner").outerHeight()),(l+=Math.abs(i))<=-n&&(l=-n),l>=0&&(l=0),e<=160+u?(d.removeClass("fixed"),l=u):(d.hasClass("fixed")||(l=-1*n),d.addClass("fixed")),c=e}),t(window).trigger("scroll");for(var f,p,h,g,m,v,w,y,C,b=document.querySelectorAll(".has-focus"),k=0;k<b.length;k++){var x=b[k];x.addEventListener("focus",function(){this.classList.add("is-active")}),x.addEventListener("blur",function(){""===this.value&&this.classList.remove("is-active")})}(function(){var e=t(".cta-archive-item"),i=e.find(".dot");if(e.length)for(var n=e.find(".slider-list").find(".slider-item"),o=!1,a=0;a<i.length;a++)i.eq(a).on("click",function(e){if(e.preventDefault(),!o){var a=parseInt(t(this).attr("data-index"),10);a,o=!0,i.removeClass("is-active"),i.eq(a).addClass("is-active"),n.removeClass("is-active"),setTimeout(function(){n.eq(a).addClass("is-active")},270),setTimeout(function(){o=!1},550)}})}(),f=t(".js-search-open"),p=t(".js-newsletter-open"),h=t(".js-personalization-open"),g=t(".popup-search-block"),m=t(".popup-newsletter-block"),v=t(".popup-personalization-block"),w=t(".close-popup"),y=g.find(".clear-input"),C=g.find('.search-form input[type="text"]'),f.on("click",function(e){e.preventDefault(),g.addClass("is-active"),t("body").addClass("no-scroll")}),y.on("click",function(t){t.preventDefault(),C.val("")}),p.on("click",function(e){e.preventDefault(),t("html, body").animate({scrollTop:0},"slow"),setTimeout(function(){m.addClass("is-active"),t("body").addClass("no-scroll")},250)}),h.on("click",function(e){e.preventDefault(),v.addClass("is-active"),t("body").addClass("no-scroll")}),w.on("click",function(e){e.preventDefault(),g.removeClass("is-active"),m.removeClass("is-active"),v.removeClass("is-active"),t("body").removeClass("no-scroll")}),function(){var e=t(".block-photo-text.long-text"),i=[];t(window).on("resize",function(){if(e.length){for(var n=0;n<e.length;n++){var o=e.eq(n);i[n]=a(o)}t(window).trigger("scroll")}}),t(window).on("werandaslidingimages:refresh",function(){e=t(".block-photo-text.long-text"),t(window).trigger("resize")}),t(window).on("load",function(){t(window).trigger("resize")}),window.location.hash&&setTimeout(function(){var e=window.location.hash;t("html, body").animate({scrollTop:t(e).offset().top-80},1500,"swing")},500),t(window).trigger("resize"),t(window).on("scroll",function(){if(e.length&&!(t(window).outerWidth()<=1040))for(var n=t(window).scrollTop(),o=0;o<i.length;o++)i[o].start-100<=n&&i[o].end+100>=n&&s(i[o],n,o)});var n,o=((n=document.createElement("a").style).cssText="position:sticky;position:-webkit-sticky;position:-ms-sticky;",-1!==n.position.indexOf("sticky"));function a(e){var i=e.find(".photo-wrapper"),n=e.find(".text-wrapper"),o=n.offset().top,a=n.offset().top+n.outerHeight()-i.outerHeight(),s=i.find(".to-count").length;return{start:o,end:a,scrollable:a-o,scrollPartWidth:(a-o)/s,currentPhoto:0,textHeight:n.outerHeight(),photoHeight:i.outerHeight(),photosCount:s,photoWrapper:i,photos:i.find(".to-count"),windowHeight:t(window).outerHeight()}}function s(t,e,n){var a=e-t.start+10,s=Math.floor(a/t.scrollPartWidth);s<0&&(s=0),s>t.photosCount-1&&(s=t.photosCount-1),a<10&&(a=10),a>t.textHeight-t.photoHeight&&(a=t.textHeight-t.photoHeigh),o||t.photoWrapper.css("top",a+"px"),i[n].currentPhoto!==s&&(t.photos.removeClass("is-active"),t.photos.eq(s).addClass("is-active"),i[n].currentPhoto=s)}}(),window.matchMedia("screen and (max-width: 1040px)").matches)?t(".grid").not('[data-dynamic="true"]').removeClass("is-loading"):(t(".grid").not('[data-dynamic="true"]').masonry({itemSelector:".grid-item",columnWidth:".grid-item-helper",gutter:0,transitionDuration:0,percentPosition:!0}).on("layoutComplete",function(e,i){t(".grid").not('[data-dynamic="true"]').removeClass("is-loading")}),t(window).on("load",function(){t(".grid").not('[data-dynamic="true"]').masonry("layout")}));t(window).on("resize",function(){if(t(".grid").not('[data-dynamic="true"]').length){if(t(window).outerWidth()>1040&&!t(".grid").not('[data-dynamic="true"]').eq(0).data("masonry"))t(".grid").not('[data-dynamic="true"]').masonry({itemSelector:".grid-item",columnWidth:".grid-item-helper",gutter:0,percentPosition:!0,transitionDuration:0}).on("layoutComplete",function(e,i){t(".grid").not('[data-dynamic="true"]').removeClass("is-loading")});t(window).outerWidth()<=1040&&t(".grid").not('[data-dynamic="true"]').eq(0).data("masonry")&&t(".grid").not('[data-dynamic="true"]').masonry("destroy")}}),function(){var e=t(".filter-block"),i=e.find(".select-item"),n=e.find(".js-select-popup-style"),o=e.find(".js-select-popup-room"),a=e.find(".js-select-popup-deco"),s=t(".select-popup-wrapper"),r=t(".select-popup"),c=t(".select-popup.style"),l=t(".select-popup.room"),d=t(".select-popup.decoration");if(e.length&&(e.find(".row").on("click",function(t){t.stopPropagation()}),n.on("click",function(t){t.preventDefault(),s.addClass("is-active"),r.removeClass("is-active"),n.hasClass("is-active")?(n.removeClass("is-active"),c.removeClass("is-active")):(n.addClass("is-active"),o.removeClass("is-active"),a.removeClass("is-active"),c.addClass("is-active"))}),o.on("click",function(t){t.preventDefault(),s.addClass("is-active"),r.removeClass("is-active"),o.hasClass("is-active")?(o.removeClass("is-active"),l.removeClass("is-active")):(o.addClass("is-active"),n.removeClass("is-active"),a.removeClass("is-active"),l.addClass("is-active"))}),a.on("click",function(t){t.preventDefault(),s.addClass("is-active"),r.removeClass("is-active"),a.hasClass("is-active")?(a.removeClass("is-active"),d.removeClass("is-active")):(a.addClass("is-active"),o.removeClass("is-active"),n.removeClass("is-active"),d.addClass("is-active"))}),r.on("click",function(t){t.stopPropagation()}),t(document.body).on("click",function(t){r.removeClass("is-active"),s.removeClass("is-active"),i.removeClass("is-active"),n.find(".js-counter").length&&n.addClass("is-active"),o.find(".js-counter").length&&o.addClass("is-active"),a.find(".js-counter").length&&a.addClass("is-active")}),c.on("click",function(t){var e=p(c);h(n,e)}),l.on("click",function(t){var e=p(l);h(o,e)}),d.on("click",function(t){var e=p(d);h(a,e)}),window.matchMedia("screen and (max-width: 1040px)").matches)){var u=t(".js-open-filters"),f=t(".filter-block .row");t(".select-item");e.find(".select-popup").on("click",function(t){t.stopPropagation()}),u.on("click",function(){f.toggleClass("is-open"),u.toggleClass("is-active")})}function p(t){return t.find('input[type="checkbox"]:checked').length}function h(e,i){var n;0===i?(n=e.find(".js-counter")).length&&n.remove():(n=e.find(".js-counter")).length?n.text(i):(n=t('<span class="js-counter">'+i+"</span>")).prependTo(e)}}(),t('.popup-newsletter-block input[type="submit"]').on("click",function(){var e=t(this).closest("form");return t.ajax({url:e.prop("action"),type:"post",data:e.serialize(),success:function(t){1==t.success&&e.html('<div class="thanks-message">Dziękujemy za zapisanie się na newsletter.</div>')},beforeSend:function(){e.find("input.error").removeClass("has-error")},error:function(i){if(422===i.status){var n=i.responseJSON;t.each(n,function(i,n){"errors"==i&&t.each(n,function(i,n){t("#"+i+"-error").text(n[0]),e.find('input[name="'+i+'"]').addClass("has-error").click(function(){t(this).removeClass("has-error"),t("#"+i+"-error").text("")})})})}else alert("Błąd wysyłki formularza!")}}),!1}),t(".category-current-item").on("click",function(){var e=t(".category-list"),i=t(".category-wrapper .category-current-item");e.toggleClass("is-open"),i.toggleClass("is-active")}),t(".year-current-item").on("click",function(){var e=t(".year-list"),i=t(".year-list-wrapper .year-current-item");e.toggleClass("is-open"),i.toggleClass("is-active")});var z=function(e){var i=e.find('*[data-scrollable-ui="true"]'),n=[];function o(e,i){if("yes"!==e.attr("data-has-scrollable-ui")){e.css("overflow","hidden");var o=e.find('*[data-scrollable-item="true"]').length;e.attr("data-childs",o),e.attr("data-current",1);var a=e.find('*[data-scrollable-item="true"]:first-child'),s=e.find('*[data-scrollable-item="true"]'),r=s.length,c=s.eq(r-1),l=a.attr("class"),d=a.prop("tagName"),u=t("<"+d+"></"+d+">");u.attr("data-is-clone","true"),u.attr("class",l),u.css("pointer-events","none"),u.css("opacity",0),u.appendTo(c.parent()),u.clone().appendTo(c.parent()),e.attr("data-has-scrollable-ui","yes"),n[i]||(n[i]=new Hammer(e[0])),n[i].on("swipe",t=>{var i=parseInt(e.attr("data-current"),10),n=parseInt(e.attr("data-childs"),10);if("swipe"===t.type&&(1===t.direction||2===t.direction)&&t.deltaX<-60&&i<n){i++,e.attr("data-current",i);var o=e.find('*[data-scrollable-item="true"]').eq(i-1);e.animate({scrollLeft:o.position().left+e.scrollLeft()},500)}if("swipe"===t.type&&(1===t.direction||4===t.direction)&&t.deltaX>60&&i>1){i--,e.attr("data-current",i);o=e.find('*[data-scrollable-item="true"]').eq(i-1);e.animate({scrollLeft:o.offset().left+e.scrollLeft()-10},500)}})}}i.each(function(e,i){i=t(i),t(window).outerWidth()<770&&o(i,e)}),t(window).on("resize",function(){i.each(function(e,i){i=t(i),t(window).outerWidth()<770?o(i,e):function(t,e){if("no"===t.attr("data-has-scrollable-ui")||null==n[e])return;let i=t.find('*[data-is-clone="true"]');n[e].off("swipe"),i.length&&(i.remove(),t.attr("data-has-scrollable-ui","no"));t.animate({scrollLeft:0},500)}(i,e)})})};z(t(document.body)),function(){var e=0,i=1,n="",o=0,a=0,s=!1,r=!1,c=[],l=0,d=[];if(t("main[data-article-id]").length){var u=t("main[data-article-id]");n=u.attr("data-endpoint-base-url"),a=parseInt(u.attr("data-article-id"),10),l=parseInt(u.attr("data-articles-to-load"),10),c.push({start:u.offset().top,end:u.offset().top+u.outerHeight(),meta_description:t(document.head).find('meta[name="description"]').attr("content"),meta_keywords:t(document.head).find('meta[name="keywords"]').attr("content"),meta_title:t(document.head).find("title").text(),og_description:t(document.head).find('meta[property="og:description"]').attr("content"),og_image:t(document.head).find('meta[property="og:image"]').attr("content"),og_title:t(document.head).find('meta[property="og:title"]').attr("content"),url:t(document.head).find('meta[property="og:url"]').attr("content")}),t(window).on("load",function(){e=u.offset().top+u.outerHeight(),t(window).on("scroll",p),t(window).on("resize",g)}),d.push(parseInt(u.attr("data-article-id"),10))}function f(o){t.post(n+"/get-next-article",{id:parseInt(o,10),ids:d}).done(function(o){if(o.success){var f=t(o.html);u.after(f),a=parseInt(o.article_id,10),d.push(a),i++,u=f,setTimeout(function(){!function(t){for(var e=t.querySelectorAll("a[data-fslightbox]"),i=0;i<e.length;i++){var n=e[i].getAttribute("data-fslightbox");void 0===window.fsLightboxInstances[n]&&(window.fsLightbox=new window.fsLightboxClass,window.fsLightbox.data.name=n,window.fsLightboxInstances[n]=window.fsLightbox),e[i].addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("data-fslightbox");if(window.fsLightboxInstances[e].data.initiated)return window.fsLightboxInstances[e].setSlide(window.fsLightboxInstances[e].data.urls.indexOf(this.getAttribute("href"))+1),void window.fsLightboxInstances[e].show();window.fsLightboxInstances[e].init(this.getAttribute("href"))})}}(f[0]),t(window).trigger("werandaslidingimages:refresh"),z(f)},0),setTimeout(function(){s=!1},1e3),i>=l+1&&(r=!0),c.push({start:f.offset().top,end:f.offset().top+f.outerHeight(),meta_description:o.meta_description,meta_keywords:o.meta_keywords,meta_title:o.meta_title,og_description:o.og_description,og_image:o.og_image,og_title:o.og_title,url:o.url}),"undefined"!=typeof ga&&(ga("set","page",o.url.replace(n,"")),ga("send","pageview")),setTimeout(function(){e=f.offset().top+f.outerHeight()},500)}else r=!0})}function p(){var i=t(window).scrollTop();!s&&!r&&i+t(window).outerHeight()>e-100&&(s=!0,f(a));for(var n=0;n<c.length;n++)if(i>=c[n].start&&i<=c[n].end){n!==o&&h(n),o=n;break}}function h(e){document.title=c[e].meta_title,window.history.pushState(null,c[e].meta_title,c[e].url),t(document.head).find('meta[name="description"]').attr("content",c[e].meta_description),t(document.head).find('meta[name="keywords"]').attr("content",c[e].meta_keywords),t(document.head).find('meta[property="og:description"]').attr("content",c[e].og_description),t(document.head).find('meta[property="og:image"]').attr("content",c[e].og_image),t(document.head).find('meta[property="og:title"]').attr("content",c[e].og_title),t(document.head).find('meta[property="og:url"]').attr("content",c[e].url)}function g(){for(var e=t("main.page-article"),i=0;i<c.length;i++)c[i].start=e.eq(i).offset().top,c[i].end=e.eq(i).offset().top+e.eq(i).outerHeight()}}(),function(){var e=t(".main-articles-block.js-slider"),i=t(".main-article-slider-wrapper"),n=e.find(".prev"),o=e.find(".next");if(t(window).outerWidth()>770&&i.length){var a=i.find(".main-article-list"),s=a.find(".main-article-item"),r=0,c=!1;o.on("click",function(t){t.preventDefault(),c||(c=!0,++r>=s.length-2&&(r=0),a.css("margin-left",-100/3*r+"%"),setTimeout(function(){c=!1},550))}),n.on("click",function(t){t.preventDefault(),c||(c=!0,--r<0&&(r=s.length-3),a.css("margin-left",-100/3*r+"%"),setTimeout(function(){c=!1},550))})}}(),function(){var e=t(".block-photo-text.horizontal-slider.orientation-vertical"),i=[];function n(t){t.find(".horizontal-slider-wrapper");var e=t.find(".horiz-slider-prev"),i=t.find(".horiz-slider-next"),n=window.matchMedia("screen and (max-width: 560px)");if(t.length){var o=t.find(".photo-wrapper"),a=o.find(".container"),s=0,r=!1;i.on("click",function(t){t.preventDefault(),r||(s++,r=!0,n.matches?(s>=a.length&&(s=0),o.css("margin-left",-50*s+"%")):(s>=a.length-1&&(s=0),o.css("margin-left",-50*s+"%")),setTimeout(function(){r=!1},550))}),e.on("click",function(t){t.preventDefault(),r||(s--,r=!0,n.matches?(s<0&&(s=a.length-1),o.css("margin-left",-50*s+"%")):(s<0&&(s=a.length-2),o.css("margin-left",-50*s+"%")),setTimeout(function(){r=!1},550))})}}t(window).on("resize",function(){if(e.length){for(var o=0;o<e.length;o++){var a=e.eq(o);i[o]=n(a)}t(window).trigger("scroll")}}),t(window).on("werandaslidingimages:refresh",function(){e=t(".block-photo-text.horizontal-slider.orientation-vertical"),t(window).trigger("resize")}),t(window).on("load",function(){t(window).trigger("resize")}),t(window).trigger("resize")}(),function(){var e=t(".block-photo-text.horizontal-slider.orientation-horizontal"),i=[];function n(t){t.find(".horizontal-slider-wrapper");var e=t.find(".horiz-slider-prev"),i=t.find(".horiz-slider-next");if(t.length){var n=t.find(".photo-wrapper"),o=n.find(".container"),a=0,s=!1;i.on("click",function(t){t.preventDefault(),s||(s=!0,++a>=o.length&&(a=0),n.css("margin-left",-100*a+"%"),setTimeout(function(){s=!1},550))}),e.on("click",function(t){t.preventDefault(),s||(s=!0,--a<0&&(a=o.length-1),n.css("margin-left",-100*a+"%"),setTimeout(function(){s=!1},550))})}}t(window).on("resize",function(){if(e.length){for(var o=0;o<e.length;o++){var a=e.eq(o);i[o]=n(a)}t(window).trigger("scroll")}}),t(window).on("werandaslidingimages:refresh",function(){e=t(".block-photo-text.horizontal-slider.orientation-horizontal"),t(window).trigger("resize")}),t(window).on("load",function(){t(window).trigger("resize")}),t(window).trigger("resize")}(),t("a.scroll").on("click",function(e){e.preventDefault();var i=t(this),n=t(i.attr("href")).offset().top-t(".menu-header").outerHeight();t("html, body").animate({scrollTop:n},1e3)}),t(document).ready(function(){t("img.lazy").each(function(){t(this).attr("src",t(this).attr("lazy-src"))}),t(".lazy-bg").each(function(){t(this).attr("style",t(this).data("bg"))}),t(".subscription-tabs > h4").mouseover(function(){t(".subscription-tabs > h4").removeClass("active"),t(this).addClass("active"),t(".subscription-tabs .subscription_tabs__tab").removeClass("active"),t("#"+t(this).data("id")).addClass("active")})})}(jQuery);